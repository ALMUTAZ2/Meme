
<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>هدية مميزة</title>
<style>
  /* ... نفس الـ CSS السابق ... */
  #soundControl {
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 15px 25px;
    background: #ff1493;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    z-index: 1000;
    font-size: 18px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  }
  
  #soundControl:hover {
    background: #ff69b4;
  }
  
  #audioStatus {
    position: fixed;
    bottom: 80px;
    right: 20px;
    color: #ff1493;
    background: white;
    padding: 10px;
    border-radius: 5px;
    display: none;
  }
</style>
</head>
<body>
<img class="background-image" src="https://d41chssnpqdne.cloudfront.net/user_upload_by_module/chat_bot/files/26334481/06rRtLthpCv2BnWD.jpeg?Expires=1741454972&Signature=k1iA8O012esopD79Pg6IcPzSLCR363p5NBn4GZeRGycC~LDRH3sb7WwYuf3DIYkAUw5cCsemVZmuf0lZjX0UIt7wrKJIrqEzEpHJGBr1U7XTX7UIqttXGsmpoj-DcxdY5Z44P7Sd8MvW6hETpHt0KG49iZNCsqspf7eoWXxR7fOgdRsIw88sahYscgHemMe8aC4dYdfWOshIeqyffyeScG9dWc6gtuzLHqarPTUip9xMqQHbW0GSL4NijSSkKljq~0d8LK9V6iir8jI6TD86Qn2nJtYHz484YWpcCZYPAD2UFTT9fKFs58xpOEp67TgaEjR8QYGUL2bPb1YpTPT3HA__&Key-Pair-Id=K3USGZIKWMDCSX" alt="تفاصيل الطلب">
<div class="overlay"></div>
<div class="center-point"></div>
<div id="message">هدية زواجنا من زوجك أبو محمد ❤️</div>

<div id="audioStatus">جاري تحميل الصوت...</div>
<button id="soundControl">▶️ تشغيل الصوت</button>

<!-- جرب أحد هذه المسارات -->
<audio id="audioPlayer">
  <source src="meme.mp3" type="audio/mp3">
  <source src="/meme.mp3" type="audio/mp3">
  <source src="./meme.mp3" type="audio/mp3">
  <!-- إذا كان الملف في مجلد assets -->
  <source src="assets/meme.mp3" type="audio/mp3">
</audio>

<script>
  const audio = document.getElementById('audioPlayer');
  const soundControl = document.getElementById('soundControl');
  const audioStatus = document.getElementById('audioStatus');
  let animationRunning = true;

  // إظهار حالة تحميل الصوت
  audioStatus.style.display = 'block';
  
  audio.addEventListener('loadeddata', function() {
    audioStatus.textContent = 'تم تحميل الصوت بنجاح';
    setTimeout(() => {
      audioStatus.style.display = 'none';
    }, 2000);
  });

  audio.addEventListener('error', function(e) {
    audioStatus.textContent = 'حدث خطأ في تحميل الصوت';
    audioStatus.style.color = 'red';
    console.error('Audio error:', e);
  });

  // التحكم بالصوت
  soundControl.addEventListener('click', function() {
    if (audio.paused) {
      const playPromise = audio.play();
      if (playPromise !== undefined) {
        playPromise.then(_ => {
          soundControl.textContent = "⏸️ إيقاف الصوت";
        })
        .catch(error => {
          console.error('Error playing audio:', error);
          audioStatus.textContent = 'حدث خطأ في تشغيل الصوت';
          audioStatus.style.display = 'block';
        });
      }
    } else {
      audio.pause();
      soundControl.textContent = "▶️ تشغيل الصوت";
    }
  });

  // بقية الكود كما هو...
  const emojis = ['🎉', '🎁', '💥', '💌', '🎉', '🎁'];
  const centerPoint = document.querySelector('.center-point');

  function createEmoji() {
    if (!animationRunning) return;

    const emoji = document.createElement('div');
    emoji.className = 'emoji';
    emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];

    const angle = Math.random() * Math.PI * 2;
    const distance = Math.random() * 300 + 100;
    const tx = Math.cos(angle) * distance;
    const ty = Math.sin(angle) * distance;
    const rotation = Math.random() * 720 - 360;

    emoji.style.setProperty('--tx', `${tx}px`);
    emoji.style.setProperty('--ty', `${ty}px`);
    emoji.style.setProperty('--rot', `${rotation}deg`);

    emoji.style.animation = `explode 2s ease-out forwards`;

    centerPoint.appendChild(emoji);

    setTimeout(() => {
      emoji.remove();
    }, 2000);
  }

  const intervalId = setInterval(createEmoji, 200);

  setTimeout(() => {
    animationRunning = false;
    clearInterval(intervalId);
    
    const emojis = document.querySelectorAll('.emoji');
    emojis.forEach(emoji => emoji.remove());
    
    setTimeout(() => {
      const message = document.getElementById('message');
      message.style.display = 'block';
    }, 1000);
  }, 10000);
</script>
</body>
</html>
